<%- include('./layouts/header.ejs') %>

  <div class="container-fluid">
    <h1>首页</h1>

    <!--文章列表区域-->
    <ul class="list-group">
      <% articles.forEach(item=>{ %>
        <li class="list-group-item">
          <span class="badge" style="background-color:#5bc0de;">发表时间：<%= item.ctime %></span>
          <span class="badge" style="background-color:#f0ad4e;">作者：<%= item.user.nickname %></span>
          <a href="/article/info?id=<%= item.id %>">
            <%= item.title %>
          </a>
        </li>
        <% }) %>
    </ul>

    <!--分页区域-->
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li>
          <a href="/?page=<%= nowPage === 1 ? '1' : nowPage-1 %>" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
        </li>
        <% for(var i = 0; i < Math.ceil(totalCount/pageSize); i++){ %>
          <li class="<%= nowPage==(i+1)?'active':'' %>"><a href="/?page=<%= (i+1) %>"><%= (i+1) %></a></li>
        <% } %>
        <li>
          <a href="/?page=<%= nowPage === Math.ceil(totalCount/pageSize)? Math.ceil(totalCount/pageSize) : nowPage+1 %>" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
        </li>
      </ul>
    </nav>

  </div>

  <%- include('./layouts/footer.ejs') %>